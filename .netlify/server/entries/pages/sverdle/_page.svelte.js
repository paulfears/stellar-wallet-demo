import { c as create_ssr_component, b as subscribe, e as each, g as escape, a as add_attribute, t as null_to_empty } from "../../../chunks/ssr.js";
import "devalue";
import "../../../chunks/client.js";
import { r as readable } from "../../../chunks/index2.js";
const get_initial_motion_preference = () => {
  return false;
};
const reduced_motion = readable(get_initial_motion_preference(), (set) => {
});
const css = {
  code: "form.svelte-1pg2j5l.svelte-1pg2j5l{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;flex:1}.how-to-play.svelte-1pg2j5l.svelte-1pg2j5l{color:var(--color-text)}.how-to-play.svelte-1pg2j5l.svelte-1pg2j5l::before{content:'i';display:inline-block;font-size:0.8em;font-weight:900;width:1em;height:1em;padding:0.2em;line-height:1;border:1.5px solid var(--color-text);border-radius:50%;text-align:center;margin:0 0.5em 0 0;position:relative;top:-0.05em}.grid.svelte-1pg2j5l.svelte-1pg2j5l{--width:min(100vw, 40vh, 380px);max-width:var(--width);align-self:center;justify-self:center;width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start}.grid.svelte-1pg2j5l .row.svelte-1pg2j5l{display:grid;grid-template-columns:repeat(5, 1fr);grid-gap:0.2rem;margin:0 0 0.2rem 0}@media(prefers-reduced-motion: no-preference){.grid.bad-guess.svelte-1pg2j5l .row.current.svelte-1pg2j5l{animation:svelte-1pg2j5l-wiggle 0.5s}}.grid.playing.svelte-1pg2j5l .row.current.svelte-1pg2j5l{filter:drop-shadow(3px 3px 10px var(--color-bg-0))}.letter.svelte-1pg2j5l.svelte-1pg2j5l{aspect-ratio:1;width:100%;display:flex;align-items:center;justify-content:center;text-align:center;box-sizing:border-box;text-transform:lowercase;border:none;font-size:calc(0.08 * var(--width));border-radius:2px;background:white;margin:0;color:rgba(0, 0, 0, 0.7)}.letter.missing.svelte-1pg2j5l.svelte-1pg2j5l{background:rgba(255, 255, 255, 0.5);color:rgba(0, 0, 0, 0.5)}.letter.exact.svelte-1pg2j5l.svelte-1pg2j5l{background:var(--color-theme-2);color:white}.letter.close.svelte-1pg2j5l.svelte-1pg2j5l{border:2px solid var(--color-theme-2)}.selected.svelte-1pg2j5l.svelte-1pg2j5l{outline:2px solid var(--color-theme-1)}.controls.svelte-1pg2j5l.svelte-1pg2j5l{text-align:center;justify-content:center;height:min(18vh, 10rem)}.keyboard.svelte-1pg2j5l.svelte-1pg2j5l{--gap:0.2rem;position:relative;display:flex;flex-direction:column;gap:var(--gap);height:100%}.keyboard.svelte-1pg2j5l .row.svelte-1pg2j5l{display:flex;justify-content:center;gap:0.2rem;flex:1}.keyboard.svelte-1pg2j5l button.svelte-1pg2j5l,.keyboard.svelte-1pg2j5l button.svelte-1pg2j5l:disabled{--size:min(8vw, 4vh, 40px);background-color:white;color:black;width:var(--size);border:none;border-radius:2px;font-size:calc(var(--size) * 0.5);margin:0}.keyboard.svelte-1pg2j5l button.exact.svelte-1pg2j5l{background:var(--color-theme-2);color:white}.keyboard.svelte-1pg2j5l button.missing.svelte-1pg2j5l{opacity:0.5}.keyboard.svelte-1pg2j5l button.close.svelte-1pg2j5l{border:2px solid var(--color-theme-2)}.keyboard.svelte-1pg2j5l button.svelte-1pg2j5l:focus{background:var(--color-theme-1);color:white;outline:none}.keyboard.svelte-1pg2j5l button[data-key='enter'].svelte-1pg2j5l,.keyboard.svelte-1pg2j5l button[data-key='backspace'].svelte-1pg2j5l{position:absolute;bottom:0;width:calc(1.5 * var(--size));height:calc(1 / 3 * (100% - 2 * var(--gap)));text-transform:uppercase;font-size:calc(0.3 * var(--size));padding-top:calc(0.15 * var(--size))}.keyboard.svelte-1pg2j5l button[data-key='enter'].svelte-1pg2j5l{right:calc(50% + 3.5 * var(--size) + 0.8rem)}.keyboard.svelte-1pg2j5l button[data-key='backspace'].svelte-1pg2j5l{left:calc(50% + 3.5 * var(--size) + 0.8rem)}.keyboard.svelte-1pg2j5l button[data-key='enter'].svelte-1pg2j5l:disabled{opacity:0.5}.restart.svelte-1pg2j5l.svelte-1pg2j5l{width:100%;padding:1rem;background:rgba(255, 255, 255, 0.5);border-radius:2px;border:none}.restart.svelte-1pg2j5l.svelte-1pg2j5l:focus,.restart.svelte-1pg2j5l.svelte-1pg2j5l:hover{background:var(--color-theme-1);color:white;outline:none}@keyframes svelte-1pg2j5l-wiggle{0%{transform:translateX(0)}10%{transform:translateX(-2px)}30%{transform:translateX(4px)}50%{transform:translateX(-6px)}70%{transform:translateX(+4px)}90%{transform:translateX(-2px)}100%{transform:translateX(0)}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { confetti } from \\"@neoconfetti/svelte\\";\\nimport { enhance } from \\"$app/forms\\";\\nimport { reduced_motion } from \\"./reduced-motion\\";\\nexport let data;\\nexport let form;\\n$:\\n  won = data.answers.at(-1) === \\"xxxxx\\";\\n$:\\n  i = won ? -1 : data.answers.length;\\n$:\\n  currentGuess = data.guesses[i] || \\"\\";\\n$:\\n  submittable = currentGuess.length === 5;\\nlet classnames;\\nlet description;\\n$: {\\n  classnames = {};\\n  description = {};\\n  data.answers.forEach((answer, i2) => {\\n    const guess = data.guesses[i2];\\n    for (let i3 = 0; i3 < 5; i3 += 1) {\\n      const letter = guess[i3];\\n      if (answer[i3] === \\"x\\") {\\n        classnames[letter] = \\"exact\\";\\n        description[letter] = \\"correct\\";\\n      } else if (!classnames[letter]) {\\n        classnames[letter] = answer[i3] === \\"c\\" ? \\"close\\" : \\"missing\\";\\n        description[letter] = answer[i3] === \\"c\\" ? \\"present\\" : \\"absent\\";\\n      }\\n    }\\n  });\\n}\\nfunction update(event) {\\n  const key = event.target.getAttribute(\\n    \\"data-key\\"\\n  );\\n  if (key === \\"backspace\\") {\\n    currentGuess = currentGuess.slice(0, -1);\\n    if (form?.badGuess)\\n      form.badGuess = false;\\n  } else if (currentGuess.length < 5) {\\n    currentGuess += key;\\n  }\\n}\\nfunction keydown(event) {\\n  if (event.metaKey)\\n    return;\\n  if (event.key === \\"Enter\\" && !submittable)\\n    return;\\n  document.querySelector(\`[data-key=\\"\${event.key}\\" i]\`)?.dispatchEvent(new MouseEvent(\\"click\\", { cancelable: true }));\\n}\\n<\/script>\\r\\n\\r\\n<svelte:window on:keydown={keydown} />\\r\\n\\r\\n<svelte:head>\\r\\n\\t<title>Sverdle</title>\\r\\n\\t<meta name=\\"description\\" content=\\"A Wordle clone written in SvelteKit\\" />\\r\\n</svelte:head>\\r\\n\\r\\n<h1 class=\\"visually-hidden\\">Sverdle</h1>\\r\\n\\r\\n<form\\r\\n\\tmethod=\\"POST\\"\\r\\n\\taction=\\"?/enter\\"\\r\\n\\tuse:enhance={() => {\\r\\n\\t\\t// prevent default callback from resetting the form\\r\\n\\t\\treturn ({ update }) => {\\r\\n\\t\\t\\tupdate({ reset: false });\\r\\n\\t\\t};\\r\\n\\t}}\\r\\n>\\r\\n\\t<a class=\\"how-to-play\\" href=\\"/sverdle/how-to-play\\">How to play</a>\\r\\n\\r\\n\\t<div class=\\"grid\\" class:playing={!won} class:bad-guess={form?.badGuess}>\\r\\n\\t\\t{#each Array.from(Array(6).keys()) as row (row)}\\r\\n\\t\\t\\t{@const current = row === i}\\r\\n\\t\\t\\t<h2 class=\\"visually-hidden\\">Row {row + 1}</h2>\\r\\n\\t\\t\\t<div class=\\"row\\" class:current>\\r\\n\\t\\t\\t\\t{#each Array.from(Array(5).keys()) as column (column)}\\r\\n\\t\\t\\t\\t\\t{@const guess = current ? currentGuess : data.guesses[row]}\\r\\n\\t\\t\\t\\t\\t{@const answer = data.answers[row]?.[column]}\\r\\n\\t\\t\\t\\t\\t{@const value = guess?.[column] ?? ''}\\r\\n\\t\\t\\t\\t\\t{@const selected = current && column === guess.length}\\r\\n\\t\\t\\t\\t\\t{@const exact = answer === 'x'}\\r\\n\\t\\t\\t\\t\\t{@const close = answer === 'c'}\\r\\n\\t\\t\\t\\t\\t{@const missing = answer === '_'}\\r\\n\\t\\t\\t\\t\\t<div class=\\"letter\\" class:exact class:close class:missing class:selected>\\r\\n\\t\\t\\t\\t\\t\\t{value}\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"visually-hidden\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{#if exact}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(correct)\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else if close}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(present)\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else if missing}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t(absent)\\r\\n\\t\\t\\t\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tempty\\r\\n\\t\\t\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t<input name=\\"guess\\" disabled={!current} type=\\"hidden\\" {value} />\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{/each}\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\"controls\\">\\r\\n\\t\\t{#if won || data.answers.length >= 6}\\r\\n\\t\\t\\t{#if !won && data.answer}\\r\\n\\t\\t\\t\\t<p>the answer was \\"{data.answer}\\"</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t<button data-key=\\"enter\\" class=\\"restart selected\\" formaction=\\"?/restart\\">\\r\\n\\t\\t\\t\\t{won ? 'you won :)' : \`game over :(\`} play again?\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t{:else}\\r\\n\\t\\t\\t<div class=\\"keyboard\\">\\r\\n\\t\\t\\t\\t<button data-key=\\"enter\\" class:selected={submittable} disabled={!submittable}>enter</button>\\r\\n\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\ton:click|preventDefault={update}\\r\\n\\t\\t\\t\\t\\tdata-key=\\"backspace\\"\\r\\n\\t\\t\\t\\t\\tformaction=\\"?/update\\"\\r\\n\\t\\t\\t\\t\\tname=\\"key\\"\\r\\n\\t\\t\\t\\t\\tvalue=\\"backspace\\"\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\tback\\r\\n\\t\\t\\t\\t</button>\\r\\n\\r\\n\\t\\t\\t\\t{#each ['qwertyuiop', 'asdfghjkl', 'zxcvbnm'] as row}\\r\\n\\t\\t\\t\\t\\t<div class=\\"row\\">\\r\\n\\t\\t\\t\\t\\t\\t{#each row as letter}\\r\\n\\t\\t\\t\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ton:click|preventDefault={update}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-key={letter}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tclass={classnames[letter]}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdisabled={submittable}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tformaction=\\"?/update\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tname=\\"key\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue={letter}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\"{letter} {description[letter] || ''}\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{letter}\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{/if}\\r\\n\\t</div>\\r\\n</form>\\r\\n\\r\\n{#if won}\\r\\n\\t<div\\r\\n\\t\\tstyle=\\"position: absolute; left: 50%; top: 30%\\"\\r\\n\\t\\tuse:confetti={{\\r\\n\\t\\t\\tparticleCount: $reduced_motion ? 0 : undefined,\\r\\n\\t\\t\\tforce: 0.7,\\r\\n\\t\\t\\tstageWidth: window.innerWidth,\\r\\n\\t\\t\\tstageHeight: window.innerHeight,\\r\\n\\t\\t\\tcolors: ['#ff3e00', '#40b3ff', '#676778']\\r\\n\\t\\t}}\\r\\n\\t></div>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n\\tform {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tgap: 1rem;\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\t.how-to-play {\\r\\n\\t\\tcolor: var(--color-text);\\r\\n\\t}\\r\\n\\r\\n\\t.how-to-play::before {\\r\\n\\t\\tcontent: 'i';\\r\\n\\t\\tdisplay: inline-block;\\r\\n\\t\\tfont-size: 0.8em;\\r\\n\\t\\tfont-weight: 900;\\r\\n\\t\\twidth: 1em;\\r\\n\\t\\theight: 1em;\\r\\n\\t\\tpadding: 0.2em;\\r\\n\\t\\tline-height: 1;\\r\\n\\t\\tborder: 1.5px solid var(--color-text);\\r\\n\\t\\tborder-radius: 50%;\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tmargin: 0 0.5em 0 0;\\r\\n\\t\\tposition: relative;\\r\\n\\t\\ttop: -0.05em;\\r\\n\\t}\\r\\n\\r\\n\\t.grid {\\r\\n\\t\\t--width: min(100vw, 40vh, 380px);\\r\\n\\t\\tmax-width: var(--width);\\r\\n\\t\\talign-self: center;\\r\\n\\t\\tjustify-self: center;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tjustify-content: flex-start;\\r\\n\\t}\\r\\n\\r\\n\\t.grid .row {\\r\\n\\t\\tdisplay: grid;\\r\\n\\t\\tgrid-template-columns: repeat(5, 1fr);\\r\\n\\t\\tgrid-gap: 0.2rem;\\r\\n\\t\\tmargin: 0 0 0.2rem 0;\\r\\n\\t}\\r\\n\\r\\n\\t@media (prefers-reduced-motion: no-preference) {\\r\\n\\t\\t.grid.bad-guess .row.current {\\r\\n\\t\\t\\tanimation: wiggle 0.5s;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t.grid.playing .row.current {\\r\\n\\t\\tfilter: drop-shadow(3px 3px 10px var(--color-bg-0));\\r\\n\\t}\\r\\n\\r\\n\\t.letter {\\r\\n\\t\\taspect-ratio: 1;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tbox-sizing: border-box;\\r\\n\\t\\ttext-transform: lowercase;\\r\\n\\t\\tborder: none;\\r\\n\\t\\tfont-size: calc(0.08 * var(--width));\\r\\n\\t\\tborder-radius: 2px;\\r\\n\\t\\tbackground: white;\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tcolor: rgba(0, 0, 0, 0.7);\\r\\n\\t}\\r\\n\\r\\n\\t.letter.missing {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.5);\\r\\n\\t\\tcolor: rgba(0, 0, 0, 0.5);\\r\\n\\t}\\r\\n\\r\\n\\t.letter.exact {\\r\\n\\t\\tbackground: var(--color-theme-2);\\r\\n\\t\\tcolor: white;\\r\\n\\t}\\r\\n\\r\\n\\t.letter.close {\\r\\n\\t\\tborder: 2px solid var(--color-theme-2);\\r\\n\\t}\\r\\n\\r\\n\\t.selected {\\r\\n\\t\\toutline: 2px solid var(--color-theme-1);\\r\\n\\t}\\r\\n\\r\\n\\t.controls {\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\theight: min(18vh, 10rem);\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard {\\r\\n\\t\\t--gap: 0.2rem;\\r\\n\\t\\tposition: relative;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--gap);\\r\\n\\t\\theight: 100%;\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard .row {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tgap: 0.2rem;\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button,\\r\\n\\t.keyboard button:disabled {\\r\\n\\t\\t--size: min(8vw, 4vh, 40px);\\r\\n\\t\\tbackground-color: white;\\r\\n\\t\\tcolor: black;\\r\\n\\t\\twidth: var(--size);\\r\\n\\t\\tborder: none;\\r\\n\\t\\tborder-radius: 2px;\\r\\n\\t\\tfont-size: calc(var(--size) * 0.5);\\r\\n\\t\\tmargin: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button.exact {\\r\\n\\t\\tbackground: var(--color-theme-2);\\r\\n\\t\\tcolor: white;\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button.missing {\\r\\n\\t\\topacity: 0.5;\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button.close {\\r\\n\\t\\tborder: 2px solid var(--color-theme-2);\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button:focus {\\r\\n\\t\\tbackground: var(--color-theme-1);\\r\\n\\t\\tcolor: white;\\r\\n\\t\\toutline: none;\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button[data-key='enter'],\\r\\n\\t.keyboard button[data-key='backspace'] {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tbottom: 0;\\r\\n\\t\\twidth: calc(1.5 * var(--size));\\r\\n\\t\\theight: calc(1 / 3 * (100% - 2 * var(--gap)));\\r\\n\\t\\ttext-transform: uppercase;\\r\\n\\t\\tfont-size: calc(0.3 * var(--size));\\r\\n\\t\\tpadding-top: calc(0.15 * var(--size));\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button[data-key='enter'] {\\r\\n\\t\\tright: calc(50% + 3.5 * var(--size) + 0.8rem);\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button[data-key='backspace'] {\\r\\n\\t\\tleft: calc(50% + 3.5 * var(--size) + 0.8rem);\\r\\n\\t}\\r\\n\\r\\n\\t.keyboard button[data-key='enter']:disabled {\\r\\n\\t\\topacity: 0.5;\\r\\n\\t}\\r\\n\\r\\n\\t.restart {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tpadding: 1rem;\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.5);\\r\\n\\t\\tborder-radius: 2px;\\r\\n\\t\\tborder: none;\\r\\n\\t}\\r\\n\\r\\n\\t.restart:focus,\\r\\n\\t.restart:hover {\\r\\n\\t\\tbackground: var(--color-theme-1);\\r\\n\\t\\tcolor: white;\\r\\n\\t\\toutline: none;\\r\\n\\t}\\r\\n\\r\\n\\t@keyframes wiggle {\\r\\n\\t\\t0% {\\r\\n\\t\\t\\ttransform: translateX(0);\\r\\n\\t\\t}\\r\\n\\t\\t10% {\\r\\n\\t\\t\\ttransform: translateX(-2px);\\r\\n\\t\\t}\\r\\n\\t\\t30% {\\r\\n\\t\\t\\ttransform: translateX(4px);\\r\\n\\t\\t}\\r\\n\\t\\t50% {\\r\\n\\t\\t\\ttransform: translateX(-6px);\\r\\n\\t\\t}\\r\\n\\t\\t70% {\\r\\n\\t\\t\\ttransform: translateX(+4px);\\r\\n\\t\\t}\\r\\n\\t\\t90% {\\r\\n\\t\\t\\ttransform: translateX(-2px);\\r\\n\\t\\t}\\r\\n\\t\\t100% {\\r\\n\\t\\t\\ttransform: translateX(0);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let won;
  let i;
  let currentGuess;
  let submittable;
  let $$unsubscribe_reduced_motion;
  $$unsubscribe_reduced_motion = subscribe(reduced_motion, (value) => value);
  let { data } = $$props;
  let { form } = $$props;
  let classnames;
  let description;
  if ($$props.data === void 0 && $$bindings.data && data !== void 0)
    $$bindings.data(data);
  if ($$props.form === void 0 && $$bindings.form && form !== void 0)
    $$bindings.form(form);
  $$result.css.add(css);
  won = data.answers.at(-1) === "xxxxx";
  i = won ? -1 : data.answers.length;
  currentGuess = data.guesses[i] || "";
  submittable = currentGuess.length === 5;
  {
    {
      classnames = {};
      description = {};
      data.answers.forEach((answer, i2) => {
        const guess = data.guesses[i2];
        for (let i3 = 0; i3 < 5; i3 += 1) {
          const letter = guess[i3];
          if (answer[i3] === "x") {
            classnames[letter] = "exact";
            description[letter] = "correct";
          } else if (!classnames[letter]) {
            classnames[letter] = answer[i3] === "c" ? "close" : "missing";
            description[letter] = answer[i3] === "c" ? "present" : "absent";
          }
        }
      });
    }
  }
  $$unsubscribe_reduced_motion();
  return ` ${$$result.head += `<!-- HEAD_svelte-18lvto8_START -->${$$result.title = `<title>Sverdle</title>`, ""}<meta name="description" content="A Wordle clone written in SvelteKit"><!-- HEAD_svelte-18lvto8_END -->`, ""} <h1 class="visually-hidden" data-svelte-h="svelte-16hvqlg">Sverdle</h1> <form method="POST" action="?/enter" class="svelte-1pg2j5l"><a class="how-to-play svelte-1pg2j5l" href="/sverdle/how-to-play" data-svelte-h="svelte-1w3fhu3">How to play</a> <div class="${[
    "grid svelte-1pg2j5l",
    (!won ? "playing" : "") + " " + (form?.badGuess ? "bad-guess" : "")
  ].join(" ").trim()}">${each(Array.from(Array(6).keys()), (row) => {
    let current = row === i;
    return ` <h2 class="visually-hidden">Row ${escape(row + 1)}</h2> <div class="${["row svelte-1pg2j5l", current ? "current" : ""].join(" ").trim()}">${each(Array.from(Array(5).keys()), (column) => {
      let guess = current ? currentGuess : data.guesses[row], answer = data.answers[row]?.[column], value = guess?.[column] ?? "", selected = current && column === guess.length, exact = answer === "x", close = answer === "c", missing = answer === "_";
      return `       <div class="${[
        "letter svelte-1pg2j5l",
        (exact ? "exact" : "") + " " + (close ? "close" : "") + " " + (missing ? "missing" : "") + " " + (selected ? "selected" : "")
      ].join(" ").trim()}">${escape(value)} <span class="visually-hidden">${exact ? `(correct)` : `${close ? `(present)` : `${missing ? `(absent)` : `empty`}`}`}</span> <input name="guess" ${!current ? "disabled" : ""} type="hidden"${add_attribute("value", value, 0)}> </div>`;
    })} </div>`;
  })}</div> <div class="controls svelte-1pg2j5l">${won || data.answers.length >= 6 ? `${!won && data.answer ? `<p>the answer was &quot;${escape(data.answer)}&quot;</p>` : ``} <button data-key="enter" class="restart selected svelte-1pg2j5l" formaction="?/restart">${escape(won ? "you won :)" : `game over :(`)} play again?</button>` : `<div class="keyboard svelte-1pg2j5l"><button data-key="enter" ${!submittable ? "disabled" : ""} class="${["svelte-1pg2j5l", submittable ? "selected" : ""].join(" ").trim()}">enter</button> <button data-key="backspace" formaction="?/update" name="key" value="backspace" class="svelte-1pg2j5l" data-svelte-h="svelte-1ptb1bp">back</button> ${each(["qwertyuiop", "asdfghjkl", "zxcvbnm"], (row) => {
    return `<div class="row svelte-1pg2j5l">${each(row, (letter) => {
      return `<button${add_attribute("data-key", letter, 0)} class="${escape(null_to_empty(classnames[letter]), true) + " svelte-1pg2j5l"}" ${submittable ? "disabled" : ""} formaction="?/update" name="key"${add_attribute("value", letter, 0)} aria-label="${escape(letter, true) + " " + escape(description[letter] || "", true)}">${escape(letter)} </button>`;
    })} </div>`;
  })}</div>`}</div></form> ${won ? `<div style="position: absolute; left: 50%; top: 30%"></div>` : ``}`;
});
export {
  Page as default
};
